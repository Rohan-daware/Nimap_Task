@model IEnumerable<Nimap_Task.Models.Product>

@{
    ViewBag.Title = "Products in " + ViewBag.CategoryName;
}

<h2 style="text-align: center; color: #4CAF50;">Products in @ViewBag.CategoryName</h2>

<!-- Colorful Table -->
<table style="width: 100%; border-collapse: collapse; text-align: center; font-family: Arial, sans-serif; margin-bottom: 20px;">
    <thead>
        <tr style="background-color: #FF6F61; color: white;">
            <th style="padding: 10px; border: 1px solid #ddd;">ProductId</th>
            <th style="padding: 10px; border: 1px solid #ddd;">ProductName</th>
            <th style="padding: 10px; border: 1px solid #ddd;">CategoryId</th>
            <th style="padding: 10px; border: 1px solid #ddd;">CategoryName</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var product in Model)
        {
            <tr style="border: 1px solid #ddd; background-color: #f9f9f9;">
                <td style="padding: 10px;">@product.ProductId</td>
                <td style="padding: 10px; background-color: #FFD54F;">@product.ProductName</td>
                <td style="padding: 10px;">@product.CategoryId</td>
                <td style="padding: 10px; background-color: #AED581;">@ViewBag.CategoryName</td>
            </tr>
        }
    </tbody>
</table>

<!-- Pagination Controls -->
<div style="text-align: center; margin-top: 20px;">
    @if (ViewBag.CurrentPage > 1)
    {
        <a href="@Url.Action("ViewProducts", new { categoryId = ViewBag.CategoryId, page = ViewBag.CurrentPage - 1 })"
           style="margin-right: 10px; padding: 10px 15px; background-color: #007BFF; color: white; text-decoration: none; border-radius: 4px;">
            Previous
        </a>
    }
    @if (ViewBag.CurrentPage < ViewBag.TotalPages)
    {
        <a href="@Url.Action("ViewProducts", new { categoryId = ViewBag.CategoryId, page = ViewBag.CurrentPage + 1 })"
           style="padding: 10px 15px; background-color: #007BFF; color: white; text-decoration: none; border-radius: 4px;">
            Next
        </a>
    }
</div>

<!-- Back to Categories -->
<a href="/Category/Index" style="display: inline-block; margin-top: 15px; padding: 10px 20px; background-color: #FF6F61; color: white; text-decoration: none; border-radius: 4px;">
    Back to Categories
</a>